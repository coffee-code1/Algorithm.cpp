#include <iostream>
#include <cstdlib>
#include <ctime>//随机种子
using namespace std;

int arr[200001];

void quicksort(int l, int r) {
    if (l >= r) return;//整个快排循环终止条件是，l与r相等时或者大于时即停止；
    
    int x = arr[l + rand() % (r - l + 1)];//从l到r均有可能随机
    int a = l, b = r;//类似于双指针的功能，从需要排序的区域左端和右端同时往中间逼近
    int i = l;//遍历的起始点
    
    while (i <= b) {//循环结束标志当b超过i是即跑到i的左边
        if (arr[i] < x) {//这是将小于x放到左边同时更新a的边界向右移动一位
            swap(arr[a], arr[i]);
            a++;
            i++;
        } else if (arr[i] > x) {//同理表示b右边存放大于x的数
            swap(arr[i], arr[b]);
            b--;
        } else {//表示等于x的数不动，达到了放到小于和大于中间的效果；
            i++;
        }
    }
    
    quicksort(l, a - 1);//以下用到了递归的思想，分别在对分好的左右两个区域进行快排；这里在上一次结束后a，b两个都是等于x的位置，所以在递归时要分别向左右平移一位；
    quicksort(b + 1, r);
}

int main() {
    srand(time(0));//随机种子，为快排里面随机一个x边界值大前提
    int n;
    cin >> n;
    for (int i = 0; i < n; i++) {
        cin >> arr[i];
    }
    quicksort(0, n - 1);//调用快排函数，传入需要排序的区间;
     for (int i = 0; i < n; i++) {
        cout<< arr[i]<<" ";
    }
    return 0;
}
